<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

    <title>Document</title>
    <style>
       
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">QuickCart</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="AboutUs.html">About us</a>
                    </li>
                    <li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="login.html">Logout</a>
                        </li>
                
                    </li>
                </ul>
                <i class="fa-solid fa-basket-shopping fa-2x"></i>
                
                
            </div>
        </div>
    </nav>

    <!-- <div class="header position-relative">
        <div class=" content   position-absolute text-primary">
            <h1 class=" titleItem display text-dark">Slick,Modern,Awsom!</h1>
            <button class="b1 btn btn-outline-dark">Shop now!</button>
        </div>
    </div> -->

    <div class="header d-flex  justify-content-center align-items-end text-start ">
        <div class="content container text-end">
        <h1 class=" fs-4 fw-bold text-dark p-5">Slick, Modern, Awesome!</h1>
        <button class="b1 btn btn-outline-dark m-5">Shop now!</button>
        </div>
    </div>

    <p class="poptxt text-center fs-3 ">Popular Products</p>
    <div class="container">
        <div class="row" id="row">
        </div>
    </div>
  

    <div class="container " style="padding-top:5% ;padding-bottom: 5%;padding-left: 35%;">
        <button class="btn btn-outline-dark" onclick="prevPage()">Previous</button>
        <span id="pageNumber">Page 1</span>
        <button class="btn btn-outline-dark" onclick="nextPage()">Next</button>   
    </div>

    <!-- Footer Start -->
    <div class="container-footer bg-dark">
        <div class="container">
        <div class="row pt-5">
            <div class="col-lg-4 col-md-6 mb-5">
                <a href="" class="navbar-brand font-weight-bold text-primary m-0 mb-4 p-0"
                    style="font-size: 40px; line-height: 40px;">
                    <span class="text-white p-3">QuickCart</span>
                </a>
                <div class="d-flex justify-content-start mt-4">
                    <a class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
                        style="width: 38px; height: 38px;" href="#"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
                        style="width: 38px; height: 38px;" href="#"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
                        style="width: 38px; height: 38px;" href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
                        style="width: 38px; height: 38px;" href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-5">
                <h3 class="text-white mb-4">Get In Touch</h3>
                <div class="d-flex">
                    <h4 class="fa fa-map-marker-alt text-white"></h4>
                    <div class="pl-3">
                        <h5 class="text-white">Address</h5>
                        <p class="text text-white">123 Street, New York, USA</p>
                    </div>
                </div>
                <div class="d-flex">
                    <h4 class="fa fa-envelope text-white"></h4>
                    <div class="pl-3">
                        <h5 class="text text-white">Email</h5>
                        <p class="text text-white">SOUQ@gmail.com</p>
                    </div>
                </div>
                <div class="d-flex">
                    <h4 class="fa fa-phone-alt text-white"></h4>
                    <div class="pl-3">
                        <h5 class="text-white">Phone</h5>
                        <p class="text-white">+010000000</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-5">
                <h3 class="text-white mb-4">Quick Links</h3>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white mb-2" href="index.html"><i class="fa fa-angle-right mr-2"></i>Home</a>
                    <a class="text-white mb-2" href="AboutUs.html"><i class="fa fa-angle-right mr-2"></i>About Us</a>
                    
                </div>
            </div>
        </div>
    </div>
        <div class="container-fluid pt-5" style="border-top: 1px solid rgba(23, 162, 184, .2);;">
            <p class="m-0 text-center text-white">
                &copy; <a class="text-primary font-weight-bold" href="#">QuickCart</a>. All Rights Reserved.
               
            </p>
        </div>
    </div>
    <!-- Footer End -->

    <script>
        var myhttp = new XMLHttpRequest();
        var arr = [];
        var currentPage = 1;
        var limit = 6; 

        myhttp.open("GET", "https://dummyjson.com/products");
        myhttp.send();

        myhttp.addEventListener("readystatechange", function () {
            if (myhttp.readyState == 4 && myhttp.status == 200) {
                let data = JSON.parse(myhttp.response);
                arr = data.products;  
                displayProduct();
                updatePageNumber();
            }
        });

        function displayProduct() {
            let start = (currentPage - 1) * limit;
            let end = start + limit;
            let products = arr.slice(start, end);

            var productHTML = '';
            for (var i = 0; i < products.length; i++) {
                productHTML += ` 
                <div class="col-lg-3 col-md-5 col-sm-12 text-center offset-md-1 offset-lg-1 mb-5">
                    <div class="card h-100">
                        <img   src="${products[i].images[0]}" class="card-img-top" alt="${products[i].title}">
                        <div class="card-body">
                            <h5 class="card-title">${products[i].title}</h5>
                            <p class="card-text">${products[i].description}</p>
                            <p class="card-text text-success fw-bold">$${products[i].price}</p>
                            <a href="payment.html" class="btn btn-primary">Buy Now</a>
                            <a href="#" class="add btn btn-primary">Add to Cart</a>
                        </div>
                    </div>
                </div>`;
            }
            document.getElementById("row").innerHTML = productHTML;
        }

        function nextPage() {
            if (currentPage * limit < arr.length) {
                currentPage++;
                displayProduct();
                updatePageNumber();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                displayProduct();
                updatePageNumber();
            }
        }

        function updatePageNumber() {
            document.getElementById("pageNumber").innerText = `Page ${currentPage}`;
        }

        document.addEventListener("DOMContentLoaded", function () {
            let cartCounter = JSON.parse(localStorage.getItem("cart"))?.length || 0;
            updateCartCounter();

            document.getElementById("row").addEventListener("click", function (event) {
                if (event.target.classList.contains("add")) {
                    let card = event.target.closest(".card");
                    let title = card.querySelector(".card-title").innerText;
                    let price = card.querySelector(".card-text.text-success").innerText.replace("$", "");
                    let image = card.querySelector(".card-img-top").src;

                    let product = { title, price, image };

                    let cart = JSON.parse(localStorage.getItem("cart")) || [];
                    cart.push(product);
                    localStorage.setItem("cart", JSON.stringify(cart));

                    cartCounter++;
                    updateCartCounter();
                }
            });

            function updateCartCounter() {
                let counterElement = document.querySelector(".fa-basket-shopping + span");
                if (!counterElement) {
                    counterElement = document.createElement("span");
                    counterElement.style.background = "red";
                    counterElement.style.color = "white";
                    counterElement.style.borderRadius = "50%";
                    counterElement.style.padding = "3px 8px";
                    counterElement.style.fontSize = "14px";
                    counterElement.style.position = "absolute";
                    counterElement.style.top = "0";
                    counterElement.style.right = "0";
                    document.querySelector(".fa-basket-shopping").parentElement.appendChild(counterElement);
                }
                counterElement.innerText = cartCounter;
                counterElement.style.display = cartCounter > 0 ? "inline-block" : "none";
            }

            document.querySelector(".fa-basket-shopping").addEventListener("click", function () {
                window.location.href = "cart.html"; 
            });
        });
    </script>
</body>

</html>